@{
    ViewData["Title"] = "Login";
}

<style>

    .form 
    {
        display: flex;
        flex-direction: column;
        align-items: center;
        border: solid;
        padding: 20px;
        width: fit-content;
    }

    .field
    {
        padding-top: 3%;
    }

    .title
    {
        text-align: center;
        padding-top: 5%;
    }

</style>


<div style="align-content: center">

    <h1 class="title">Login</h1>

    <form>

        <div class="form">
            <div class="field">
                <label>User: </label>
                <input placeholder="Enter User" />
            </div>

            <div class="field">
                <label>Password: </label>
                <input placeholder="Enter Password" type="password" />
            </div>

            <div class="field">
                <button>Enter</button>
            </div>

        </div>
    </form>
</div>

<script>
    $(document).ready(function () {
        $("#btnLogin").click(function (e) {
            e.preventDefault(); // Evita que el botón recargue la página

            var user = $("#user").val();
            var password = $("#password").val();

            $.ajax({
                url: "/Account/Login",
                type: "POST",
                data: { User: user, Password: password },
                success: function (response) {
                    if (response.success) {
                        window.location.href = "/Home/Index"; // Redirige si el login es correcto
                    } else {
                        $("#loginMessage").text(response.message); // Muestra error
                    }
                },
                error: function () {
                    $("#loginMessage").text("Error en la solicitud.");
                }
            });
        });
    });
</script>
